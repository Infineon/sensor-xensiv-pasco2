<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>sensor-xensiv-pasco2</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">sensor-xensiv-pasco2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__group__board__libs__mtb.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">XENSIV™ PAS CO2 sensor ModusToolbox&trade; interface</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<p>Basic set of APIs for interacting with the XENSIV™ PAS CO2 sensor. </p>
<p>This provides basic initialization and access to the CO2 ppm value. It also provides access to the base XENSIV™ PAS CO2 driver for full control.</p>
<dl class="section note"><dt>Note</dt><dd>XENSIV™ PAS CO2 sensor support requires delays. If the RTOS_AWARE component is set or CY_RTOS_AWARE is defined, the HAL driver will defer to the RTOS for delays. Because of this, make sure that the RTOS scheduler has started before calling any functions.</dd></dl>
<h1><a class="anchor" id="subsection_board_libs_snippets"></a>
Code snippets</h1>
<h2><a class="anchor" id="subsection_board_libs_snippet_1"></a>
Snippet 1: Simple initialization with I2C</h2>
<p>The following snippet initializes an I2C instance and the XENSIV™ PAS CO2 sensor, and then reads from the XENSIV™ PAS CO2 sensor. </p><div class="fragment"><div class="line">    <span class="comment">/* Initialize I2C */</span></div>
<div class="line">    cyhal_i2c_cfg_t i2c_master_config = {CYHAL_I2C_MODE_MASTER,</div>
<div class="line">                                         0,</div>
<div class="line">                                         I2C_MASTER_FREQUENCY};</div>
<div class="line"> </div>
<div class="line">    result = cyhal_i2c_init(&amp;cyhal_i2c, PIN_XENSIV_PASCO2_I2C_SDA, PIN_XENSIV_PASCO2_I2C_SCL, NULL);</div>
<div class="line">    CY_ASSERT(result == CY_RSLT_SUCCESS);</div>
<div class="line"> </div>
<div class="line">    result = cyhal_i2c_configure(&amp;cyhal_i2c, &amp;i2c_master_config);</div>
<div class="line">    CY_ASSERT(result == CY_RSLT_SUCCESS);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Wait until the sensor is ready */</span></div>
<div class="line">    cyhal_system_delay_ms(WAIT_SENSOR_RDY_MS);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initialize the PAS CO2 sensor with the default parameter values */</span></div>
<div class="line">    result = <a class="code" href="group__group__board__libs__mtb.html#gabea706545fb1e82b9e4e568105a23d5b">xensiv_pasco2_mtb_init_i2c</a>(&amp;xensiv_pasco2, &amp;cyhal_i2c);</div>
<div class="line">    <span class="keywordflow">if</span> (result != CY_RSLT_SUCCESS)</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;PAS CO2 device initialization error&quot;</span>);</div>
<div class="line">        CY_ASSERT(0);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Poll PAS CO2 sensor data ready */</span></div>
<div class="line">    uint16_t ppm;</div>
<div class="line">    <span class="keywordflow">do</span></div>
<div class="line">    {</div>
<div class="line">        cyhal_system_delay_ms(10);</div>
<div class="line">        result = <a class="code" href="group__group__board__libs__mtb.html#ga1f3304bd562b511f18df659342011aea">xensiv_pasco2_mtb_read</a>(&amp;xensiv_pasco2, DEFAULT_PRESSURE_REF_HPA, &amp;ppm);</div>
<div class="line">    } <span class="keywordflow">while</span> (result != CY_RSLT_SUCCESS);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;CO2 %d ppm.\n&quot;</span>, ppm);</div>
</div><!-- fragment --> <h2><a class="anchor" id="subsection_board_libs_snippet_2"></a>
Snippet 2: XENSIV™ PAS CO2 sensor interrupt configuration</h2>
<p>The following snippet demonstrates how to configure a XENSIV™ PAS CO2 sensor interrupt. </p><div class="fragment"><div class="line">    <a class="code" href="unionxensiv__pasco2__interrupt__config__t.html">xensiv_pasco2_interrupt_config_t</a> int_config =</div>
<div class="line">    {</div>
<div class="line">        .<a class="code" href="unionxensiv__pasco2__interrupt__config__t.html#a773d45d985d2be3ab7d0dabce00ee95e">b</a>.int_func = <a class="code" href="group__group__board__libs.html#ggaea17466bbef4f0b4f2b06ea8b6ee3bd4a44ce217f8dd88627466fababd822443c">XENSIV_PASCO2_INTERRUPT_FUNCTION_DRDY</a>,</div>
<div class="line">        .b.int_typ = <a class="code" href="group__group__board__libs.html#gga1822f1abc722b317d95bbe888fa71855aecc3f516c45cfb08e1c9e5d81ef21c9e">XENSIV_PASCO2_INTERRUPT_TYPE_LOW_ACTIVE</a></div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__group__board__libs__mtb.html#gace71b8639212c85b83adf9178c0b2a73">xensiv_pasco2_mtb_interrupt_init</a>(&amp;xensiv_pasco2, </div>
<div class="line">                                     int_config,</div>
<div class="line">                                     0, </div>
<div class="line">                                     PIN_XENSIV_PASCO2_INT,</div>
<div class="line">                                     CYHAL_ISR_PRIORITY_DEFAULT, </div>
<div class="line">                                     (cyhal_gpio_event_callback_t)&amp;xensiv_pasco2_int_cb, NULL);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (;;)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (xensiv_pasco2_drdy)</div>
<div class="line">        {</div>
<div class="line">            printf(<span class="stringliteral">&quot;XENSIV PAS CO2 interrupt detected\r\n&quot;</span>);</div>
<div class="line">            xensiv_pasco2_drdy = <span class="keyword">false</span>;</div>
<div class="line">            result = <a class="code" href="group__group__board__libs__mtb.html#ga1f3304bd562b511f18df659342011aea">xensiv_pasco2_mtb_read</a>(&amp;xensiv_pasco2, DEFAULT_PRESSURE_REF_HPA, &amp;ppm);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (result != CY_RSLT_SUCCESS)</div>
<div class="line">            {</div>
<div class="line">                printf(<span class="stringliteral">&quot;XENSIV PAS CO2 read failed\r\n&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                printf(<span class="stringliteral">&quot;CO2 %d ppm.\n&quot;</span>, ppm);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        cyhal_system_delay_ms(10);</div>
<div class="line">    }</div>
</div><!-- fragment --><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga7914066ba3565838bd631e5dc5974a21"><td class="memItemLeft" align="right" valign="top"><a id="ga7914066ba3565838bd631e5dc5974a21"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CY_RSLT_MODULE_BOARD_HARDWARE_XENSIV_PASCO2</b>&#160;&#160;&#160;0x01CA</td></tr>
<tr class="separator:ga7914066ba3565838bd631e5dc5974a21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga017bf447a9133395b4220d32df9d2de4"><td class="memItemLeft" align="right" valign="top"><a id="ga017bf447a9133395b4220d32df9d2de4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__board__libs__mtb.html#ga017bf447a9133395b4220d32df9d2de4">XENSIV_PASCO2_RSLT_ERR_COMM</a>&#160;&#160;&#160;    (CY_RSLT_CREATE(CY_RSLT_TYPE_ERROR, CY_RSLT_MODULE_BOARD_HARDWARE_XENSIV_PASCO2, <a class="el" href="group__group__board__libs.html#ga5e84f685d2d853703ecacb7e43292b79">XENSIV_PASCO2_ERR_COMM</a>))</td></tr>
<tr class="memdesc:ga017bf447a9133395b4220d32df9d2de4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Result code indicating a communication error. <br /></td></tr>
<tr class="separator:ga017bf447a9133395b4220d32df9d2de4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada0ff353d1f842f7228e579f4c0d3a3b"><td class="memItemLeft" align="right" valign="top"><a id="gada0ff353d1f842f7228e579f4c0d3a3b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__board__libs__mtb.html#gada0ff353d1f842f7228e579f4c0d3a3b">XENSIV_PASCO2_RSLT_ERR_WRITE_TOO_LARGE</a>&#160;&#160;&#160;    (CY_RSLT_CREATE(CY_RSLT_TYPE_ERROR, CY_RSLT_MODULE_BOARD_HARDWARE_XENSIV_PASCO2, <a class="el" href="group__group__board__libs.html#gab9870212895620e8e0dfaaee561fcbb0">XENSIV_PASCO2_ERR_WRITE_TOO_LARGE</a>))</td></tr>
<tr class="memdesc:gada0ff353d1f842f7228e579f4c0d3a3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Result code indicating that an unexpectedly large I2C write was requested which is not supported. <br /></td></tr>
<tr class="separator:gada0ff353d1f842f7228e579f4c0d3a3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga95121d811edd118debba05c9c9122b57"><td class="memItemLeft" align="right" valign="top"><a id="ga95121d811edd118debba05c9c9122b57"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__board__libs__mtb.html#ga95121d811edd118debba05c9c9122b57">XENSIV_PASCO2_RSLT_ERR_NOT_READY</a>&#160;&#160;&#160;    (CY_RSLT_CREATE(CY_RSLT_TYPE_ERROR, CY_RSLT_MODULE_BOARD_HARDWARE_XENSIV_PASCO2, <a class="el" href="group__group__board__libs.html#ga3b4080fcd4374096aefd559eb8899a52">XENSIV_PASCO2_ERR_NOT_READY</a>))</td></tr>
<tr class="memdesc:ga95121d811edd118debba05c9c9122b57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Result code indicating that the sensor is not yet ready after reset. <br /></td></tr>
<tr class="separator:ga95121d811edd118debba05c9c9122b57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19be0326c9e5325638cac12de425d68b"><td class="memItemLeft" align="right" valign="top"><a id="ga19be0326c9e5325638cac12de425d68b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__board__libs__mtb.html#ga19be0326c9e5325638cac12de425d68b">XENSIV_PASCO2_RSLT_ICCERR</a>&#160;&#160;&#160;    (CY_RSLT_CREATE(CY_RSLT_TYPE_ERROR, CY_RSLT_MODULE_BOARD_HARDWARE_XENSIV_PASCO2, <a class="el" href="group__group__board__libs.html#ga29b2c43f6fbcc00ff7b712b72ca92735">XENSIV_PASCO2_ICCERR</a>))</td></tr>
<tr class="memdesc:ga19be0326c9e5325638cac12de425d68b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Result code indicating whether an invalid command has been received by the serial communication interface. <br /></td></tr>
<tr class="separator:ga19be0326c9e5325638cac12de425d68b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga724500140a2f53ce50a7b53d340d9d39"><td class="memItemLeft" align="right" valign="top"><a id="ga724500140a2f53ce50a7b53d340d9d39"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__board__libs__mtb.html#ga724500140a2f53ce50a7b53d340d9d39">XENSIV_PASCO2_RSLT_ORVS</a>&#160;&#160;&#160;    (CY_RSLT_CREATE(CY_RSLT_TYPE_ERROR, CY_RSLT_MODULE_BOARD_HARDWARE_XENSIV_PASCO2, <a class="el" href="group__group__board__libs.html#gab1ace4803195dcfb9bd6a57aec95f8bc">XENSIV_PASCO2_ORVS</a>))</td></tr>
<tr class="memdesc:ga724500140a2f53ce50a7b53d340d9d39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Result code indicating whether a condition where VDD12V has been outside the specified valid range has been detected. <br /></td></tr>
<tr class="separator:ga724500140a2f53ce50a7b53d340d9d39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03f9046a01140c8a9bc90804324f3869"><td class="memItemLeft" align="right" valign="top"><a id="ga03f9046a01140c8a9bc90804324f3869"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__board__libs__mtb.html#ga03f9046a01140c8a9bc90804324f3869">XENSIV_PASCO2_RSLT_ORTMP</a>&#160;&#160;&#160;    (CY_RSLT_CREATE(CY_RSLT_TYPE_ERROR, CY_RSLT_MODULE_BOARD_HARDWARE_XENSIV_PASCO2, <a class="el" href="group__group__board__libs.html#ga690e80c9cce92a12d6b93510878339b5">XENSIV_PASCO2_ORTMP</a>))</td></tr>
<tr class="memdesc:ga03f9046a01140c8a9bc90804324f3869"><td class="mdescLeft">&#160;</td><td class="mdescRight">Result code indicating whether a condition where the temperature has been outside the specified valid range has been detected. <br /></td></tr>
<tr class="separator:ga03f9046a01140c8a9bc90804324f3869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8889466a32f46f61164acda31779d38"><td class="memItemLeft" align="right" valign="top"><a id="gac8889466a32f46f61164acda31779d38"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__board__libs__mtb.html#gac8889466a32f46f61164acda31779d38">XENSIV_PASCO2_RSLT_READ_NRDY</a>&#160;&#160;&#160;    (CY_RSLT_CREATE(CY_RSLT_TYPE_ERROR, CY_RSLT_MODULE_BOARD_HARDWARE_XENSIV_PASCO2, <a class="el" href="group__group__board__libs.html#ga9768e08fad2ee5c8ebaddec5819e7715">XENSIV_PASCO2_READ_NRDY</a>))</td></tr>
<tr class="memdesc:gac8889466a32f46f61164acda31779d38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Result code indicating that a new CO2 value is not yet ready. <br /></td></tr>
<tr class="separator:gac8889466a32f46f61164acda31779d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gabea706545fb1e82b9e4e568105a23d5b"><td class="memItemLeft" align="right" valign="top">cy_rslt_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__board__libs__mtb.html#gabea706545fb1e82b9e4e568105a23d5b">xensiv_pasco2_mtb_init_i2c</a> (<a class="el" href="structxensiv__pasco2__t.html">xensiv_pasco2_t</a> *dev, cyhal_i2c_t *i2c)</td></tr>
<tr class="memdesc:gabea706545fb1e82b9e4e568105a23d5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the XENSIV™ PAS CO2 sensor and configures it to use the specified I2C peripheral.  <a href="group__group__board__libs__mtb.html#gabea706545fb1e82b9e4e568105a23d5b">More...</a><br /></td></tr>
<tr class="separator:gabea706545fb1e82b9e4e568105a23d5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga628f5739346a7e1babdb03ae51f97a86"><td class="memItemLeft" align="right" valign="top">cy_rslt_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__board__libs__mtb.html#ga628f5739346a7e1babdb03ae51f97a86">xensiv_pasco2_mtb_init_uart</a> (<a class="el" href="structxensiv__pasco2__t.html">xensiv_pasco2_t</a> *dev, cyhal_uart_t *uart)</td></tr>
<tr class="memdesc:ga628f5739346a7e1babdb03ae51f97a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the XENSIV™ PAS CO2 sensor, and configures it to use the specified UART peripheral.  <a href="group__group__board__libs__mtb.html#ga628f5739346a7e1babdb03ae51f97a86">More...</a><br /></td></tr>
<tr class="separator:ga628f5739346a7e1babdb03ae51f97a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace71b8639212c85b83adf9178c0b2a73"><td class="memItemLeft" align="right" valign="top">cy_rslt_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__board__libs__mtb.html#gace71b8639212c85b83adf9178c0b2a73">xensiv_pasco2_mtb_interrupt_init</a> (const <a class="el" href="structxensiv__pasco2__t.html">xensiv_pasco2_t</a> *dev, const <a class="el" href="unionxensiv__pasco2__interrupt__config__t.html">xensiv_pasco2_interrupt_config_t</a> int_config, uint16_t alarm_threshold, cyhal_gpio_t pin, uint8_t intr_priority, cyhal_gpio_event_callback_t callback, void *callback_arg)</td></tr>
<tr class="memdesc:gace71b8639212c85b83adf9178c0b2a73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures a GPIO pin as an interrupt for the PAS CO2 sensor.  <a href="group__group__board__libs__mtb.html#gace71b8639212c85b83adf9178c0b2a73">More...</a><br /></td></tr>
<tr class="separator:gace71b8639212c85b83adf9178c0b2a73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f3304bd562b511f18df659342011aea"><td class="memItemLeft" align="right" valign="top">cy_rslt_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__board__libs__mtb.html#ga1f3304bd562b511f18df659342011aea">xensiv_pasco2_mtb_read</a> (const <a class="el" href="structxensiv__pasco2__t.html">xensiv_pasco2_t</a> *dev, uint16_t press_ref, uint16_t *co2_ppm_val)</td></tr>
<tr class="memdesc:ga1f3304bd562b511f18df659342011aea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the CO2 value value if available.  <a href="group__group__board__libs__mtb.html#ga1f3304bd562b511f18df659342011aea">More...</a><br /></td></tr>
<tr class="separator:ga1f3304bd562b511f18df659342011aea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="gabea706545fb1e82b9e4e568105a23d5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabea706545fb1e82b9e4e568105a23d5b">&#9670;&nbsp;</a></span>xensiv_pasco2_mtb_init_i2c()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cy_rslt_t xensiv_pasco2_mtb_init_i2c </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structxensiv__pasco2__t.html">xensiv_pasco2_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cyhal_i2c_t *&#160;</td>
          <td class="paramname"><em>i2c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the XENSIV™ PAS CO2 sensor and configures it to use the specified I2C peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dev</td><td>Pointer to the pressure sensor object. The caller must allocate the memory for this object but the init function will initialize its contents </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">i2c</td><td>Pointer to an initialized I2C object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CY_RSLT_SUCCESS if properly initialized[, an error indicating what went wrong otherwise </dd></dl>

</div>
</div>
<a id="ga628f5739346a7e1babdb03ae51f97a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga628f5739346a7e1babdb03ae51f97a86">&#9670;&nbsp;</a></span>xensiv_pasco2_mtb_init_uart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cy_rslt_t xensiv_pasco2_mtb_init_uart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structxensiv__pasco2__t.html">xensiv_pasco2_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cyhal_uart_t *&#160;</td>
          <td class="paramname"><em>uart</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the XENSIV™ PAS CO2 sensor, and configures it to use the specified UART peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dev</td><td>Pointer to the pressure sensor object. The caller must allocate the memory for this object but the init function will initialize its contents </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uart</td><td>Pointer to an initialized UART object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CY_RSLT_SUCCESS if the initialization was successful; an error indicating what went wrong otherwise </dd></dl>

</div>
</div>
<a id="gace71b8639212c85b83adf9178c0b2a73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gace71b8639212c85b83adf9178c0b2a73">&#9670;&nbsp;</a></span>xensiv_pasco2_mtb_interrupt_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cy_rslt_t xensiv_pasco2_mtb_interrupt_init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structxensiv__pasco2__t.html">xensiv_pasco2_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="unionxensiv__pasco2__interrupt__config__t.html">xensiv_pasco2_interrupt_config_t</a>&#160;</td>
          <td class="paramname"><em>int_config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>alarm_threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cyhal_gpio_t&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>intr_priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cyhal_gpio_event_callback_t&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>callback_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures a GPIO pin as an interrupt for the PAS CO2 sensor. </p>
<p>This initializes and configures the pin as an interrupt, and calls the PAS CO2 interrupt configuration API with the application-supplied settings structure </p><dl class="section note"><dt>Note</dt><dd>Should be called only after <a class="el" href="group__group__board__libs__mtb.html#gabea706545fb1e82b9e4e568105a23d5b">xensiv_pasco2_mtb_init_i2c</a> or <a class="el" href="group__group__board__libs__mtb.html#ga628f5739346a7e1babdb03ae51f97a86">xensiv_pasco2_mtb_init_uart</a>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>Pointer to the PAS CO2 sensor device </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">int_config</td><td>New sensor device interrupt configuration to apply </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">alarm_threshold</td><td>New alarm threshold value to apply </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pin</td><td>Pin connected to the INT pin of the sensor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">intr_priority</td><td>Priority for NVIC interrupt events </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>Function to call when the specified event happens. Pass NULL to unregister the handler </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback_arg</td><td>Generic argument that will be provided to the callback when called; can be NULL </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CY_RSLT_SUCCESS if interrupt was successfully enabled; an error occurred while initializing the pin otherwise </dd></dl>

</div>
</div>
<a id="ga1f3304bd562b511f18df659342011aea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f3304bd562b511f18df659342011aea">&#9670;&nbsp;</a></span>xensiv_pasco2_mtb_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cy_rslt_t xensiv_pasco2_mtb_read </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structxensiv__pasco2__t.html">xensiv_pasco2_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>press_ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>co2_ppm_val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the CO2 value value if available. </p>
<p>This checks whether a new CO2 value is available, in which case it returns it and sets the new pressure reference value for the next measurement </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dev</td><td>Pointer to the PAS CO2 device </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">press_ref</td><td>New pressure reference value to apply </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">co2_ppm_val</td><td>Pointer to populate with the CO2 ppm value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CY_RSLT_SUCCESS if PPM value was successfully read. XENSIV_PASCO2_RSLT_READ_NRDY if the measurement value is not ready yet; an error indicating what went wrong otherwise </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__group__board__libs_html_ggaea17466bbef4f0b4f2b06ea8b6ee3bd4a44ce217f8dd88627466fababd822443c"><div class="ttname"><a href="group__group__board__libs.html#ggaea17466bbef4f0b4f2b06ea8b6ee3bd4a44ce217f8dd88627466fababd822443c">XENSIV_PASCO2_INTERRUPT_FUNCTION_DRDY</a></div><div class="ttdeci">@ XENSIV_PASCO2_INTERRUPT_FUNCTION_DRDY</div><div class="ttdoc">Pin INT is configured as the data ready notification pin.</div><div class="ttdef"><b>Definition:</b> xensiv_pasco2.h:134</div></div>
<div class="ttc" id="agroup__group__board__libs__mtb_html_gabea706545fb1e82b9e4e568105a23d5b"><div class="ttname"><a href="group__group__board__libs__mtb.html#gabea706545fb1e82b9e4e568105a23d5b">xensiv_pasco2_mtb_init_i2c</a></div><div class="ttdeci">cy_rslt_t xensiv_pasco2_mtb_init_i2c(xensiv_pasco2_t *dev, cyhal_i2c_t *i2c)</div><div class="ttdoc">Initializes the XENSIV™ PAS CO2 sensor and configures it to use the specified I2C peripheral.</div><div class="ttdef"><b>Definition:</b> xensiv_pasco2_mtb.c:39</div></div>
<div class="ttc" id="aunionxensiv__pasco2__interrupt__config__t_html"><div class="ttname"><a href="unionxensiv__pasco2__interrupt__config__t.html">xensiv_pasco2_interrupt_config_t</a></div><div class="ttdoc">Structure of the sensor's interrupt configuration register (INT_CFG)</div><div class="ttdef"><b>Definition:</b> xensiv_pasco2.h:190</div></div>
<div class="ttc" id="aunionxensiv__pasco2__interrupt__config__t_html_a773d45d985d2be3ab7d0dabce00ee95e"><div class="ttname"><a href="unionxensiv__pasco2__interrupt__config__t.html#a773d45d985d2be3ab7d0dabce00ee95e">xensiv_pasco2_interrupt_config_t::b</a></div><div class="ttdeci">struct xensiv_pasco2_interrupt_config_t::@3 b</div></div>
<div class="ttc" id="agroup__group__board__libs__mtb_html_gace71b8639212c85b83adf9178c0b2a73"><div class="ttname"><a href="group__group__board__libs__mtb.html#gace71b8639212c85b83adf9178c0b2a73">xensiv_pasco2_mtb_interrupt_init</a></div><div class="ttdeci">cy_rslt_t xensiv_pasco2_mtb_interrupt_init(const xensiv_pasco2_t *dev, const xensiv_pasco2_interrupt_config_t int_config, uint16_t alarm_threshold, cyhal_gpio_t pin, uint8_t intr_priority, cyhal_gpio_event_callback_t callback, void *callback_arg)</div><div class="ttdoc">Configures a GPIO pin as an interrupt for the PAS CO2 sensor.</div><div class="ttdef"><b>Definition:</b> xensiv_pasco2_mtb.c:65</div></div>
<div class="ttc" id="agroup__group__board__libs__mtb_html_ga1f3304bd562b511f18df659342011aea"><div class="ttname"><a href="group__group__board__libs__mtb.html#ga1f3304bd562b511f18df659342011aea">xensiv_pasco2_mtb_read</a></div><div class="ttdeci">cy_rslt_t xensiv_pasco2_mtb_read(const xensiv_pasco2_t *dev, uint16_t press_ref, uint16_t *co2_ppm_val)</div><div class="ttdoc">Reads the CO2 value value if available.</div><div class="ttdef"><b>Definition:</b> xensiv_pasco2_mtb.c:108</div></div>
<div class="ttc" id="agroup__group__board__libs_html_gga1822f1abc722b317d95bbe888fa71855aecc3f516c45cfb08e1c9e5d81ef21c9e"><div class="ttname"><a href="group__group__board__libs.html#gga1822f1abc722b317d95bbe888fa71855aecc3f516c45cfb08e1c9e5d81ef21c9e">XENSIV_PASCO2_INTERRUPT_TYPE_LOW_ACTIVE</a></div><div class="ttdeci">@ XENSIV_PASCO2_INTERRUPT_TYPE_LOW_ACTIVE</div><div class="ttdoc">Pin INT is configured as push-pull and is active LOW.</div><div class="ttdef"><b>Definition:</b> xensiv_pasco2.h:125</div></div>
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>sensor-xensiv-pasco2</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
